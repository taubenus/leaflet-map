<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <style>
      html, body, #map { height: 100%; margin: 0; }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
      const params = new URLSearchParams(location.search);

      const lat = parseFloat(params.get("lat") ?? "52.516275");
      const lon = parseFloat(params.get("lon") ?? "13.377704");
      const zoom = parseInt(params.get("zoom") ?? "16", 10);
      const marker = (params.get("marker") ?? "1") !== "0";

      const map = L.map("map").setView([lat, lon], zoom);

      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution: "Â© OpenStreetMap contributors",
      }).addTo(map);

      if (marker) L.marker([lat, lon]).addTo(map);
    </script>
  </body>
</html>
 
